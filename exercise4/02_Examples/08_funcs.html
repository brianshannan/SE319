<html>
<head>
<!--
  THE PURPOSE OF THIS EXAMPLE IS TO SHOW CLOSURES
  THESE ARE FUNCTIONS + STORED-ENVIRONMENT

  DO NOTE THAT JAVA/C++ DOES NOT HAVE THE NOTION OF CLOSURE
-->
</head>

<body>
<h1>



<script>
name = "Tom Thumb";

function createThis (name) {
   return function (num) {
     return name.substr(num);
   } ;
};

x = createThis (name); // x is a closure

y = createThis ("SamIam"); // y is a closure


// TODO: WHAT WILL PRINT IF YOU UNCOMMENT THESE LINES?
// WHY? TRY IT!
document.write(x(1) + "<br>");
document.write(y(1) + "<br>");
document.write(x(5) + "<br>");
document.write(y(5) + "<br>");

// Note that function createThis has exited a long time back.
// Its local variables and arguments are gone
//
// The function returned by createThis is a CLOSURE.
// It includes the code + the environment that it was created in
// That environment includes the local variable NAME whose value was
// set at the time of calling createThis function.


</script>
</body>
</html>
